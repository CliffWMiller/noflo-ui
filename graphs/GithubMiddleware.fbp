INPORT=Dispatch.IN:IN
OUTPORT=Dispatch.PASS:PASS
OUTPORT=NewActions.OUT:NEW

'github:open,github:gist' -> ROUTES Dispatch(ui/DispatchAction)

# New actions generated by this middleware
'application:hash' -> ACTION ApplicationRedirectAction(ui/SetAction)
ApplicationRedirectAction OUT -> IN NewActions(core/Merge)
'project:save:graph' -> ACTION SaveGraphAction(ui/SetAction)
SaveGraphAction OUT -> IN NewActions(core/Merge)
'project:save:component' -> ACTION SaveComponentAction(ui/SetAction)
SaveComponentAction OUT -> IN NewActions(core/Merge)
'project:save:project' -> ACTION SaveProjectAction(ui/SetAction)
SaveProjectAction OUT -> IN NewActions(core/Merge)
'github:error' -> ACTION ErrorAction(ui/SetAction)
ErrorAction OUT -> IN NewActions(core/Merge)

# Downloading a GitHub project
Dispatch HANDLE[0] -> IN Output(core/Output)

# Downloading a gist example
# First check if we already have a local version of the gist
Dispatch HANDLE[1] -> IN CheckGist(ui/CheckGistExists)
# If it already exists, redirect
CheckGist EXISTING -> IN ApplicationRedirectAction
# If not, download as new project
CheckGist NEW -> IN GetGist(ui/GistToProject)
GetGist GRAPH -> IN SaveGraphAction
GetGist COMPONENT -> IN SaveComponentAction
GetGist PROJECT -> IN SaveProjectAction
GetGist ERROR -> IN ErrorAction
